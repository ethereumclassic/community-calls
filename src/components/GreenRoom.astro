---
import Link from "./Link.astro";
import LiveDot from "./LiveDot.astro";
import LocalTime from "./LocalTime";
import { formatTime } from "../lib/dates";

interface Props {
  time: string;
  location: string;
  joinLink?: string;
}

const { time, location, joinLink } = Astro.props;
---

<div
  class="flex flex-col gap-1 px-4 py-3 bg-etc-green/5 border border-etc-green/20 rounded-lg"
>
  <div class="flex items-center gap-2 text-etc-green/80">
    <LiveDot color="green" />
    <span class="text-xs font-mono uppercase tracking-wider"
      >Green Room - Join one Hour Before</span
    >
  </div>
  <p class="text-sm text-gray-400">
    Join us at <span class="text-gray-300">{formatTime(time)}</span>
    <LocalTime client:load time={time} /> in {
      joinLink && location.toLowerCase() !== "zoom" ? (
        <Link
          href={joinLink}
          text={location}
          class="text-gray-300 underline hover:text-etc-green"
        />
      ) : (
        <span class="text-gray-300">{location}</span>
      )
    } for an unrecorded hangout.
  </p>
</div>
