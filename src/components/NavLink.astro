---
import { Icon } from "astro-icon/components";

interface Props {
  href: string;
  icon: string;
  iconPosition?: "left" | "right";
  title?: string;
  class?: string;
}

const {
  href,
  icon,
  iconPosition = "left",
  title,
  class: className = "text-gray-500 hover:text-etc-green",
} = Astro.props;

const baseClasses =
  "inline-flex items-center gap-2 text-xs font-mono uppercase tracking-wider transition-colors group";
const iconClasses =
  iconPosition === "left"
    ? "icon-sm transform group-hover:-translate-x-1 transition-transform"
    : "icon-sm transform group-hover:translate-x-1 transition-transform";
---

<a
  href={href}
  data-astro-prefetch
  class:list={[baseClasses, className]}
  title={title}
>
  {iconPosition === "left" && <Icon name={icon} class={iconClasses} />}
  <slot />
  {iconPosition === "right" && <Icon name={icon} class={iconClasses} />}
</a>
