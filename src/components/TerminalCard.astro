---
interface Props {
  title?: string;
  titleLink?: string;
  variant?: "default" | "upcoming";
  showDots?: boolean;
  class?: string;
}

const {
  title,
  titleLink,
  variant = "default",
  showDots = false,
  class: className = "",
} = Astro.props;

const variantClass = variant === "upcoming" ? "upcoming-card" : "";
---

<div
  class:list={[
    "terminal-card rounded-xl overflow-hidden",
    variantClass,
    className,
  ]}
>
  {
    showDots && (
      <div class="flex items-center gap-2 px-4 py-3 bg-surface-elevated/50 border-b border-etc-green/10">
        <span class="w-3 h-3 rounded-full bg-red-500/60" />
        <span class="w-3 h-3 rounded-full bg-amber/60" />
        <span class="w-3 h-3 rounded-full bg-etc-green/60" />
        {title &&
          (titleLink ? (
            <a
              href={titleLink}
              target="_blank"
              rel="noopener noreferrer"
              class="ml-4 text-xs font-mono text-gray-500 hover:text-etc-green transition-colors"
            >
              {title}
            </a>
          ) : (
            <span class="ml-4 text-xs font-mono text-gray-500">{title}</span>
          ))}
      </div>
    )
  }
  <slot />
</div>
